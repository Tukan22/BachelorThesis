Backtests_ARMAGARCH_r[[stockn]] = BacktestVaR(data = retstouse, VaR = VaR95_ARMAGARCH_r[[stockn]], alpha = VaRalpha)
#  }
# Kupiec test p-values
Kupieccolname = paste((1-VaRalpha)*100,"% Kupiec p-val", sep = "")
VaRresults[[stockn]][Kupieccolname] =  c(
unname(Backtests_AR1_RV_e[[stockn]]$LRuc[2]),
unname(Backtests_AR1_RV_r[[stockn]]$LRuc[2]),
unname(Backtests_HAR_e[[stockn]]$LRuc[2]),
unname(Backtests_HAR_r[[stockn]]$LRuc[2]),
unname(Backtests_HAR_AS_e[[stockn]]$LRuc[2]),
unname(Backtests_HAR_AS_r[[stockn]]$LRuc[2]),
unname(Backtests_HAR_RS_e[[stockn]]$LRuc[2]),
unname(Backtests_HAR_RS_r[[stockn]]$LRuc[2]),
unname(Backtests_HAR_RSRK_e[[stockn]]$LRuc[2]),
unname(Backtests_HAR_RSRK_r[[stockn]]$LRuc[2]),
unname(Backtests_RGARCH_e[[stockn]]$LRuc[2]),
unname(Backtests_RGARCH_r[[stockn]]$LRuc[2]),
unname(Backtests_ARMAGARCH_e[[stockn]]$LRuc[2]),
unname(Backtests_ARMAGARCH_r[[stockn]]$LRuc[2])
)
Perccolname = paste((1-VaRalpha)*100,"% percentage below VaR", sep = "")
# Percentage returns outside of the alpha-% VaR
VaRresults[[stockn]][Perccolname] = c(
sum(retstouse < VaR95_AR1_RV_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_AR1_RV_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_AS_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_AS_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_RS_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_RS_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_RSRK_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_HAR_RSRK_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_RGARCH_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_RGARCH_r[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_ARMAGARCH_e[[stockn]])/nrow(retstouse),
sum(retstouse < VaR95_ARMAGARCH_r[[stockn]])/nrow(retstouse)
)
counter = counter + 1
}
VaRresults_output = data.frame(
matrix(
unlist(lapply(VaRresults, FUN = function(x){x[2]})),
ncol = 14
)
)
end_time = Sys.time()
# print(end_time-start_time)
return(VaRresults_output)
}
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kuppiec test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kuppiec test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kuppiec test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kuppiec test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kuppiec test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 0
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 0
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
colnames(VaRresults_output) = c("AR(1)-RV", "AR(1)-RV", "HAR", "HAR", "HAR-AS",
"HAR-AS", "HAR-RSV", "HAR-RSV", "HAR-RSRK", "HAR-RSRK",
"RGARCH", "RGARCH", "GARCH", "GARCH")
rownames(VaRresults_output) = stocks$stockname
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 0
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
MAE_e_output
MAE_r_output
MSE_e_output
MSE_r_output
apply(X = MAE_e_output, MARGIN = 2, FUN =order)
apply(X = MAE_e_output, MARGIN = 1, FUN =order)
MAE_e_output
apply(X = MAE_e_output, MARGIN = 1, FUN =order)
t(apply(X = MAE_e_output, MARGIN = 1, FUN =order) )
char(t(apply(X = MAE_e_output, MARGIN = 1, FUN =order) ) )
str(t(apply(X = MAE_e_output, MARGIN = 1, FUN =order) ) )
toString(t(apply(X = MAE_e_output, MARGIN = 1, FUN =order) ) )
t(apply(X = MAE_e_output, MARGIN = 1, FUN = order) )
paste("(",t(apply(X = MAE_e_output, MARGIN = 1, FUN = order) )  )
paste("(",t(apply(X = MAE_e_output, MARGIN = 1, FUN = order) ),")")
t(apply(X = MAE_e_output, MARGIN = 1, FUN = order) ),")")
t(apply(X = MAE_e_output, MARGIN = 1, FUN = order) )
toString(t(apply(X = MAE_e_output, MARGIN = 1, FUN = order)))
t(apply(X = MAE_e_output, MARGIN = 1, FUN = order))
t(apply(X = MAE_r_output, MARGIN = 1, FUN = order))
t(apply(X = MSE_e_output, MARGIN = 1, FUN = order))
t(apply(X = MSE_r_output, MARGIN = 1, FUN = order))
Kupiec_summary
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
colnames(VaRresults_output) = c("AR(1)-RV", "AR(1)-RV", "HAR", "HAR", "HAR-AS",
"HAR-AS", "HAR-RSV", "HAR-RSV", "HAR-RSRK", "HAR-RSRK",
"RGARCH", "RGARCH", "GARCH", "GARCH")
rownames(VaRresults_output) = stocks$stockname
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 2
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 2
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
colnames(VaRresults_output) = c("AR(1)-RV", "AR(1)-RV", "HAR", "HAR", "HAR-AS",
"HAR-AS", "HAR-RSV", "HAR-RSV", "HAR-RSRK", "HAR-RSRK",
"RGARCH", "RGARCH", "GARCH", "GARCH")
rownames(VaRresults_output) = stocks$stockname
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 2
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
VaRouts
VaRsds
VaRsds
VaRouts
VaRresults_output
for(VaRalpha in c(0.1, 0.05, 0.01)){
VaRresults_output = VaR(VaRalpha)
colnames(VaRresults_output) = c("AR(1)-RV", "AR(1)-RV", "HAR", "HAR", "HAR-AS",
"HAR-AS", "HAR-RSV", "HAR-RSV", "HAR-RSRK", "HAR-RSRK",
"RGARCH", "RGARCH", "GARCH", "GARCH")
rownames(VaRresults_output) = stocks$stockname
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using expanding forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_expanding_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_e_", (1-VaRalpha), "_2.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = 1, to = nrow(VaRresults_output)/2),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the first half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (1)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_1", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_1.tex", sep = "")
)
print(
xtable(
VaRresults_output[seq(from = nrow(VaRresults_output)/2, to = nrow(VaRresults_output)),
seq(from = 1, to = ncol(VaRresults_output), by = 2)],
caption = c(
paste("This table shows the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR computed using rolling forecast values of all 7 models for the second half of stocks.", sep = ""),
paste("Kupiec's test p-values, alpha =", (1-VaRalpha), " (2)", sep = "")),
label = paste("Table:Kupiec_test_rolling_",(1-VaRalpha),"_2", sep = "")
),
file = paste("Outputs/Kupiec_p_vals_r_", (1-VaRalpha), "_2.tex", sep = "")
)
VaRmeans = apply(VaRresults_output, MARGIN = 2, FUN = mean)
VaRsds = apply(VaRresults_output, MARGIN = 2, FUN = sd)
VaRouts = apply(VaRresults_output, MARGIN = 2, FUN = function(x){sum(x<0.05)})/nrow(VaRresults_output)
Kupiec_summary = cbind(VaRmeans, VaRsds, VaRouts)
rownames(Kupiec_summary) = paste(rownames(Kupiec_summary), rep(c("expanding","rolling"),times = 7))
colnames(Kupiec_summary) = c("Mean","SD","p-val < 0.05")
print(
xtable(
Kupiec_summary,
caption = c(
paste("This table shows the summary statistics of the p-values of the Kupiec's test on ", (1-VaRalpha), " VaR.
The first column shows the mean of p-values, the second column the standard deviation
and the third column shows in how many cases the p-value was lower than 0.05, i. e. in how many cases the VaR computation was unsuccesful.",
sep = ""),
paste("Kupiec's test p-values summary, alpha =", (1-VaRalpha), sep = "")),
label = paste("Table:Kupiec_test_summary_",(1-VaRalpha), sep = ""),
digits = 2
),
file = paste("Outputs/Kupiec_p_vals_summary_", (1-VaRalpha), ".tex", sep = "")
)
}
tquantile
qt(p = VaRalpha, df = fit.df)
